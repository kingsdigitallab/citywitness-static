


<!DOCTYPE html>
<!--[if IE 9]><html class="lt-ie10" lang="en" > <![endif]-->
<html class="no-js" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Creating virtual Swansea | City Witness</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">


  
  <link href='http://fonts.googleapis.com/css?family=Lato:300,400' rel='stylesheet' type='text/css'>
  <link href='../../../static/css/normalize.css' rel="stylesheet" type="text/css">
  <link href='../../../static/css/foundation.min.css' rel="stylesheet" type="text/css">

  <link href='../../../static/css/citywitness.css' rel="stylesheet" type="text/css">

  <script src='../../../static/js/vendor/modernizr.js'></script>
  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function()
    { (i[r].q=i[r].q||[]).push(arguments)}
    ,i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-5572016-21', 'medievalswansea.ac.uk');
    ga('send', 'pageview');
  </script>
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-78964778-1', 'auto');
  ga('send', 'pageview');

</script>
  
  
  
</head>
<body>
  <div id="wrap">

    <!--[if lte IE 8]>

      <div class="alert-box warning">
        <p>In accordance with best practice this website has been developed to support web standards, which is an important part of ensuring that it will last a long time.  The browser you are using is out of date and will not display this website correctly. For advice about alternatives and upgrading, please visit <a href="http://www.updateyourbrowser.net/en/">http://www.updateyourbrowser.net/en/</a>.</p>
      </div>

    <![endif]-->

    <div class="header" id="header">
    <!--<div class="beta"></div>--><!-- Show BETA on the top LH corner -->
      <nav class="top-bar" data-topbar>
        <ul class="title-area">
          <li class="name">
            <a href="../../index.html"><img src="../../../static/assets/images/white.png" title="Home" /></a>
          </li>
          <li class="toggle-topbar menu-icon"><a href="index.html#">Menu</a></li>
        </ul>

        <section class="top-bar-section">
          <ul class="right">
            <li>
                
                <a href="../../../cy/blog/creating-virtual-swansea/index.html">Cymraeg</a>
              
            </li>
          </ul>
          <ul class="left">
            	
<li><a href="../../information/index.html">About</a></li><li><a href="../../context/index.html">Context</a></li><li><a href="../../mapping/index.html">Mapping</a></li><li><a href="../../tours/index.html">Tours</a></li><li><a href="../../game/index.html">Game</a></li><li><a href="../../the-story/index.html">The Story</a></li><li><a href="../index.html">Blog</a></li>
          </ul>
        </section>
      </nav>
    </div><!-- .header -->

    <div class="container" id="main-content">

      <!-- And Mezzanine templates use this one -->
      <div class="row">

        <!-- Adding off canvas nav for timeline -->
        
        <div class="large-8 columns page-content">
        

          <div class="row">
          
            <div class="large-12 columns page-heading">
              <h1>Blog</h1>
            </div>

          </div><!-- .row -->
          
          

<h2>Creating virtual Swansea</h2>



<p class='meta'>
    Posted by:
    
    <a href="../author/njakeman/index.html">njakeman</a>
    
    6 years, 3 months ago
</p>












<h2></h2>
<p>One aspect of the City Witness project that has been the cause of some debate within the team is that of the three dimensional visualisation of the historic townscape. Strong opinions have been voiced with regard to the merits (or otherwise) of aiming for photo realistic visualtions that are very engaging to the public but which include suppositions regarding finer detail in the buildings that may prove problematic to ju.jpgy from the research resources available. The creation of these visualisations also present problems of resources and expertise. The public however have come to expect a certain standard of visual sophistication that may affect their perception of the level of professionalism in the project.</p>
<p><br>Conversely, representing the town with plain wireframe block buildings is visually unengaging and risks oversimplifying the scene. Variation in the buildings permits the viewer to more easily to anchor themselves in the scene in a more natural way. What then is the best way to provide an engaging visualisation, rigourously prepared, whilst clearly showing that the detail is indicative?<br>The purpose of visualisation in this project is to recreate the various viewpoints of the witnesses in order to better understand and validate their statements; there is no stated intention to recreate the ambience of medieval Swansea.</p>
<p><br>Courtesy of the <a href="https://www.geomatics-group.co.uk/geocms/">Geomatics Group</a>, we have had access to high quality terrain models which allow us to present the hills around the town and provide accurate vistas across the landscape and town. It can be reasonably assumed that the topography of the higher ground has not changed significantly in the last few hundred years, but closer to the city around the docks particularly, the terrain is has been extensively modified and the terrain models we have are littered with modern artefacts such as building footprints. Even on the hills that we hope are topographically unchanging, would there have been large wooded areas? Obviously this would have implications for lines of sight of some of the witnesses. The highest quality LiDAR terrain data is not particularly extensive as the Environment Agency data collection is focused, by necessity, on areas with a high risk of flood impact which are generally heavily built up, more populated and less elevated. In order to create a more extensive coverage, without sacrificing the high quality data, it is necesarry to combine terrain models of differing resolutions.</p>
<p><br>The creation of the visualisation then presents us with many technical problems and potential sources of innacuracy.<br>Putting aside the visualistion of the buildings for a moment let's deal with the physical landscape to give ourselves an area to build on.</p>
<p><br>In order to make the best use of the terrain data available several processing steps were undertaken.<br>Two sets of LiDAR were supplied to the project at 50cm and 2m resolutions. The 50cm data contained large areas of "no data" in the hills to the northwest of Swansea. Using tools from the <a href="http://www.gdal.org/">GDAL</a> library the 2m data which was more extensive was resampled and merged with the 50cm data. The resulting simplification in outlying areas would be almost imperceptible in the output.<br>The new coverage then had a hill shade effect applied. A separate slope intensity image was created and a third image of the same area was processed by applying a hypsometric tint, graduating from a dark green hue through to lighter shades at higher elevations.</p>
<p><br>Using<a href="http://www.imagemagick.org/Usage/compose/#blend"> ImageMagick blend operations</a>, these three images were composited to create an effective representation of the terrain.<br><img alt="Terrain composite" height="560" src="../../../static/media/uploads/terrain-prep-web.png" title="Terrain composite" width="700"></p>
<p>This image was opened in ESRI ArcScene and draped over the original terrain data:</p>
<p><img alt="Terrain drape" height="422" src="../../../static/media/uploads/terrain-drape.png" title="Terrain drape" width="700"></p>
<p></p>
<p>From this starting point the various vector layers gathered by the project could be placed in the scene. Polygon layers were added and their base heights were adjusted according to the underlying terrain data:</p>
<p><img alt="Basic vectors" height="422" src="../../../static/media/uploads/simple-vector.png" title="Basic vectors" width="700"></p>
<p>Some of the vectors didn't need to be extruded but should always be present in the scene such as the historic streets. A problem became evident in that these vectors could only be draped over the terrain so far as the frequency of the points allowed. For example, over a given distance, the terrain could show extensive variation whilst over the same distance, only two or three points had been required during digitisation to record the vector. This had the undesirable effect of making the street disappear underneath the terrain.<br><br>To deal with this issue, we went back a stage and actually burnt or branded the vector shapes as raster images into the hypsometric tint and re-composited the images. This had the additional benefit that the hill shade and slope effects would be seen clearly in the rasterised vectors.<br><br>Returning to the representation of buildings, the first simplistic approach considered to introduce some variation to the buildings was to vary the height of the structure within a reasonable range. Based on the idea that narrow buildings should be taller than wide ones a formula was posited that took an arbitrary average building height of 5m and adjusted it according to the shape index of the polygon; a measure that attempts to qua.jpgy the degree to which a 2D shape approaches circularity.</p>
<p><br>The render times for this approach in ArcScene were acceptable owing to there being very little detail in the buildings.<br>In an attempt to incrementally add building details that might provide a more engaging scene without comprising the integrity of the research another approach used was to use several 3rd party 3D models of medieval buildings to demonstrate variety.</p>
<p>Effectively, in GIS terms, this would be symbology by categorisation. It would be necessary to return to the building data and add attributes which would impart something about the affluence of the street. Again this process would be largely arbitrary, but informed by detailed investigation. Certain central streets were supposed then to be relatively more affluent and more likely to have buildings with multiple stories, as were the buildings within the castle walls. On the edges of the town it was far more likely that the buildings would have been single storied, squat and altogether more humble.</p>
<p><br>To achieve this visualisation, a new layer of points derived from the building centroids was created. An attribute was added that described the orientation of the building in relation to the street, and finally the buildings were categorised into three types, and a symbology was applied which represented each building according to its category and rotated the model appropriately.</p>
<p><br>This provided a far more pleasing visualisation but the render times were severely impacted by the addition of large volumes of fine detail which frequently caused ArcScene to crash. Also, the detail in the buildings was in marked contrast to the lack of detail present in the simple extruded vectors of the castle, town walls and gates.</p>
<p><br>A good compromise was to remove coloured textures from the buildings.</p>
<p><img alt="Complex vectors" height="422" src="../../../static/media/uploads/complex_vectors.png" title="Complex vectors" width="700"><br><br>So we have an acceptable visualisation for our purposes. It's hardly Industrial Light and Magic, but neither should it be.<br>Bringing this effectively to a wider audience is the next issue we need to address.</p>












<a class="btn small primary share-twitter" target="_blank" href="http://twitter.com/home?status=http://www.medievalswansea.ac.uk/en/blog/creating-virtual-swansea/%20Creating%20virtual%20Swansea">Share on Twitter</a>
<a class="btn small primary share-facebook" target="_blank" href="http://facebook.com/sharer.php?u=http://www.medievalswansea.ac.uk/en/blog/creating-virtual-swansea/&t=Creating%20virtual%20Swansea">Share on Facebook</a>



<ul class="pager">


<li class="previous">
    <a href="../alina-de-mowbray-samuel-gamwell-and-pierre-claire/index.html" rel="prev">&larr; Alina de Mowbray, Samuel Gamwell and Pierre Claire...</a>
</li>




<li class="next">
    <a href="../its-around-here-somewhere-locating-pavement-markers-in-swansea/index.html" rel="next">It&#39;s around here somewhere. Locating pavement markers in Swansea &rarr;</a>
</li>


</ul>











        </div><!-- .columns -->

        <!-- Adding off canvas nav for some pages (timeline) -->
        
        
        <div class="large-4 columns">

          

            <!-- IF there's second level navigation -->
              
                




  




  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  




 <!-- This calls the page_menu againn with p as the parent -->
  
    
  

  




  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  




 <!-- This calls the page_menu againn with p as the parent -->
  
    
  

  




  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  




 <!-- This calls the page_menu againn with p as the parent -->
  
    
  

  




  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  




 <!-- This calls the page_menu againn with p as the parent -->
  
    
  

  




  







 <!-- This calls the page_menu againn with p as the parent -->
  




 <!-- This calls the page_menu againn with p as the parent -->
  
    
  

  




  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  




 <!-- This calls the page_menu againn with p as the parent -->
  
    
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  

  







 <!-- This calls the page_menu againn with p as the parent -->
  






                  <!-- IF Page The Twice-Hanged William Cragh show statements -->
                    

                <ul class="unstyled secondary">
	<li class="nav-title"><h3>Tours</h3></li>
	
		<li>
			<h4><a href="../../tour/discover-medieval-swansea.html">Discover Medieval Swansea</a></h4>
			<p><p>Explore the rich and fascinating medieval heritage of Swansea.</p></p>
		</li>
	
		<li>
			<h4><a href="../../tour/the-hanging-of-william-cragh.html">The Hanging of William Cragh</a></h4>
			<p><p>Follow in the footsteps of William Cragh, Swansea&rsquo;s medieval hanged man who miraculously came back to life&hellip; </p></p>
		</li>
	
		<li>
			<h4><a href="../../tour/ghosts-and-secrets-of-medieval-swansea.html">Ghosts and Secrets of Medieval Swansea</a></h4>
			<p><p>Discover the ghosts, secrets and hidden stories of medieval Swansea in this walking tour.</p></p>
		</li>
	
		<li>
			<h4><a href="../../tour/the-development-of-medieval-swansea.html">The Development of Medieval Swansea</a></h4>
			<p><p>Walk through history as you learn about the development of Swansea during the Middle Ages and beyond.</p></p>
		</li>
	

        


</ul>

              

          

        </div><!-- .large-4 -->

        

      </div><!-- .row -->

    </div><!-- .container -->
    
    <div id="push"></div>

  </div><!-- .wrap -->

  <div class="footer" id="footer">
    <div class="row">
      <div class="large-12 columns">
        <ul class="inline-list">
          <li><a href="http://www.ahrc.ac.uk" title="Arts and Humanities Research Council"><img src='../../../static/assets/images/logos/logo-ahrc-bw.png' alt="Arts and Humanities Research Council"></a></li>
          <li><a href="http://www.soton.ac.uk" title="University of Southampton"><img src='../../../static/assets/images/logos/logo-soton-bw.png' alt="University of Southampton"></a></li>
          <li><a href="http://www.qub.ac.uk" title="Queen's University Belfast"><img src='../../../static/assets/images/logos/logo-qub-bw.png' alt="Queen's University Belfast"></a></li>
          <li><a href="http://www.kcl.ac.uk/ddh" title="King's College London Digital Humanities"><img src='../../../static/assets/images/logos/logo-ddh-bw.png' alt="King's College London Digital Humanities"></a></li>
		  <li><a href="http://dhawards.org/dhawards2014/results/" title=""><img src="http://www.medievalswansea.ac.uk/static/images/beta_flag.png" alt="DH Awards 2014"></a></li>
        </ul>
      </div>
    </div>

  </div><!-- .footer -->

  <script src='../../../static/js/vendor/jquery.js'></script>

  <script src='../../../static/js/foundation.min.js'></script>
  <script>
      $(document).foundation();
  </script>


  <!-- REMOVING HEADROOM.JS -->
  <!-- <script src='/static/js/headroom.min.js'></script> -->
  <!-- <script>
  // headroom.js isn't required on the homepage, so add .block-headroom to first div.container on homepage
  if(!document.querySelector("div.block-headroom")){
    // grab an element
    var myElement = document.querySelector("#header");
    // construct an instance of Headroom, passing the element
    var headroom  = new Headroom(myElement);
    // initialise
    headroom.init();
  }
  </script>
  <script>
    $(window).bind("load", function () {
        var footer = $("#footer");
        var pos = footer.position();
        var height = $(window).height();
        height = height - pos.top;
        height = height - footer.height() - $("#header").height();
        if (height > 0) {
            footer.css({
                'margin-top': height + 'px'
            });
        }
    });
  </script> -->

  
  

  <script defer="defer" src="/static/js/sla.js"
      type="text/javascript"></script>
</body>
</html>
