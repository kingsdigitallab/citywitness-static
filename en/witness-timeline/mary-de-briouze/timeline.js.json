var timeline = ({"events": [
	{"order": "13",
	 "desc": "William Cragh is captured",
	 "location":'<img style="width:300px;height:218;" src="/static/assets/images/briouze/1.png"/>',
	"witnesses": [
	 					{
	 					"name":"John of Baggeham",
	 					"id":"74",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"William Cragh is captured",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"",
	 					"event_loc":"Oystermouth Castle",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"capture"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"13",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"William Cragh is captured",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Oystermouth Castle",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"capture"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"276",						
	 					"slug":"william-cragh",							
	 					"desc":"William Cragh is captured",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Oystermouth Castle",
	 					"event_loc":"Oystermouth Castle",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"capture"
	 					}, 
	 					{
	 					"name":"William de Briouze Jnr",
	 					"id":"64",						
	 					"slug":"william-de-briouze-jnr",							
	 					"desc":"William Cragh is captured",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"",
	 					"event_loc":"Oystermouth Castle",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"capture"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"81",						
	 					"slug":"william-of-codineston",							
	 					"desc":"William Cragh and Trahaearn are captured",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"},{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Oystermouth Castle",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"capture"
	 					} 
	 					
	 			   ]
	},

	{"order": "14",
	 "desc": "William Cragh is sentenced by William de Briouze Snr",
	 "location":'<img style="width:300px;height:380;" src="/static/assets/images/briouze/2.png"/>',
	"witnesses": [
	 					{
	 					"name":"John of Baggeham",
	 					"id":"75",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"William Cragh is sentenced to hanging",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"sentence"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"",
	 					"event_loc":"New Castle",
	 					"event_types": [{"desc":"social"}],
	 					"event_subtype":"legal"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"14",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"William Cragh is sentenced by William de Briouze Snr",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William de Briouze Snr"}],
	 					"objects":[ { "desc":"William Cragh"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"New Castle",
	 					"event_loc":"Swansea",
	 					"event_types": [{"desc":"social"}],
	 					"event_subtype":"legal"
	 					}, 
	 					{
	 					"name":"William de Briouze Jnr",
	 					"id":"130",						
	 					"slug":"william-de-briouze-jnr",							
	 					"desc":"William Cragh is sentenced to hanging",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"sentence"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"",
	 					"event_loc":"New Castle",
	 					"event_types": [{"desc":"social"}],
	 					"event_subtype":"legal"
	 					} 
	 					
	 			   ]
	},

	{"order": "8",
	 "desc": "William Cragh asks for God's help on his way to the gallows",
	 "location":'<img style="width:300px;height:277;" src="/static/assets/images/briouze/2.png"/>',
	"witnesses": []
	},

	{"order": "94",
	 "desc": "Mary de Briouze begs for William Cragh's life",
	 "location":'<img style="width:300px;height:296;" src="/static/assets/images/briouze/4.png"/>',
	"witnesses": []
	},

	{"order": "28",
	 "desc": "William Cragh is hanged",
	 "location":'<img style="width:300px;height:277;" src="/static/assets/images/briouze/2.png"/>',
	"witnesses": [
	 					{
	 					"name":"Adam of Loughor",
	 					"id":"247",						
	 					"slug":"adam-of-loughor",							
	 					"desc":"William Cragh is hanged",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"hanging"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Town Walls",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"Henry Skinner",
	 					"id":"356",						
	 					"slug":"henry-skinner",							
	 					"desc":"William Cragh is hanged by his family",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"Dafydd Asser"} , { "desc":"Gruffudd Foel"} , { "desc":"Uthel Fachen"} , { "desc":"Yry son of Veil"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Gallows",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"John ap Hywel",
	 					"id":"241",						
	 					"slug":"john-ap-hywel",							
	 					"desc":"William Cragh is hanged",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"hanging"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Market Place",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"John of Baggeham",
	 					"id":"230",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"William Cragh is hanged by his family",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"Dafydd Asser"} , { "desc":"Gruffudd Foel"} , { "desc":"Uthel Fachen"} , { "desc":"Yry son of Veil"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Gallows",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"28",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"William Cragh is hanged",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"Thomas Marshall",
	 					"id":"83",						
	 					"slug":"thomas-marshall",							
	 					"desc":"William Cragh is hanged by his family",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"Dafydd Asser"} , { "desc":"Gruffudd Foel"} , { "desc":"Uthel Fachen"} , { "desc":"Yry son of Veil"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"West Gate",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"Thomas Marshall",
	 					"id":"123",						
	 					"slug":"thomas-marshall",							
	 					"desc":"William Cragh is hanged",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"West Gate",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"196",						
	 					"slug":"william-cragh",							
	 					"desc":"William Cragh is hanged by Uthel Fachen",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"Uthel Fachen"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Gallows",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"William de Briouze Jnr",
	 					"id":"198",						
	 					"slug":"william-de-briouze-jnr",							
	 					"desc":"William Cragh is hanged",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"hanging"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"78",						
	 					"slug":"william-of-codineston",							
	 					"desc":"William Cragh is hanged",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					} 
	 					
	 			   ]
	},

	{"order": "50",
	 "desc": "St Thomas supports William Cragh's feet",
	 "location":'<img style="width:300px;height:277;" src="/static/assets/images/briouze/2.png"/>',
	"witnesses": []
	},

	{"order": "42",
	 "desc": "William Cragh vacuates his bowels",
	 "location":'<img style="width:300px;height:277;" src="/static/assets/images/briouze/2.png"/>',
	"witnesses": []
	},

	{"order": "30",
	 "desc": "Trahaearn is hanged",
	 "location":'<img style="width:300px;height:277;" src="/static/assets/images/briouze/2.png"/>',
	"witnesses": [
	 					{
	 					"name":"Adam of Loughor",
	 					"id":"249",						
	 					"slug":"adam-of-loughor",							
	 					"desc":"Trahaearn is hanged",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"}],
	 					"objects":[ { "desc":"hanging"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Town Walls",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"Henry Skinner",
	 					"id":"345",						
	 					"slug":"henry-skinner",							
	 					"desc":"Trahaearn is hanged",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Gallows",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"John ap Hywel",
	 					"id":"243",						
	 					"slug":"john-ap-hywel",							
	 					"desc":"Trahaearn is hanged",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"}],
	 					"objects":[ { "desc":"hanging"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Market Place",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"John of Baggeham",
	 					"id":"232",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"Trahaearn is hanged",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Gallows",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"30",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"Trahaearn is hanged",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"54",						
	 					"slug":"william-cragh",							
	 					"desc":"Trahaearn is hanged",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Gallows",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"77",						
	 					"slug":"william-of-codineston",							
	 					"desc":"Trahaearn is hanged",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					} 
	 					
	 			   ]
	},

	{"order": "32",
	 "desc": "William Cragh dies on the gallows",
	 "location":'<img style="width:300px;height:277;" src="/static/assets/images/briouze/2.png"/>',
	"witnesses": []
	},

	{"order": "95",
	 "desc": "Rumours of the hanging reach people in castle",
	 "location":'<img style="width:300px;height:296;" src="/static/assets/images/briouze/4.png"/>',
	"witnesses": []
	},

	{"order": "338",
	 "desc": "Mary de Briouze and her household pray for William Cragh",
	 "location":'<img style="width:300px;height:296;" src="/static/assets/images/briouze/4.png"/>',
	"witnesses": []
	},

	{"order": "96",
	 "desc": "Mary de Briouze begs for William's life again",
	 "location":'<img style="width:300px;height:296;" src="/static/assets/images/briouze/4.png"/>',
	"witnesses": []
	},

	{"order": "97",
	 "desc": "William de Briouze Snr concedes to Mary de Briouze's request to release William Cragh's body",
	 "location":'<img style="width:300px;height:296;" src="/static/assets/images/briouze/4.png"/>',
	"witnesses": []
	},

	{"order": "337",
	 "desc": "Mary de Briouze orders William Cragh to be taken off the gallows",
	 "location":'<img style="width:300px;height:296;" src="/static/assets/images/briouze/4.png"/>',
	"witnesses": []
	},

	{"order": "38",
	 "desc": "William Cragh is taken down from the gallows",
	 "location":'<img style="width:300px;height:277;" src="/static/assets/images/briouze/2.png"/>',
	"witnesses": []
	},

	{"order": "40",
	 "desc": "Trahaearn is taken down from the galllows",
	 "location":'<img style="width:300px;height:277;" src="/static/assets/images/briouze/2.png"/>',
	"witnesses": []
	},

	{"order": "46",
	 "desc": "Trahaearn is buried",
	 "location":'<img style="width:300px;height:277;" src="/static/assets/images/briouze/2.png"/>',
	"witnesses": []
	},

	{"order": "12",
	 "desc": "William Cragh's family takes him to the Chapel of St John for burial",
	 "location":'<img style="width:300px;height:380;" src="/static/assets/images/briouze/5.png"/>',
	"witnesses": []
	},

	{"order": "10",
	 "desc": "William Cragh carried on a wheel to the Chapel of St John",
	 "location":'<img style="width:300px;height:380;" src="/static/assets/images/briouze/5.png"/>',
	"witnesses": []
	},

	{"order": "33",
	 "desc": "William Cragh is carried back to Swansea town",
	 "location":'<img style="width:300px;height:380;" src="/static/assets/images/briouze/3.png"/>',
	"witnesses": []
	},

	{"order": "60",
	 "desc": "William Cargh lies dead all night in Thomas Mathews' house",
	 "location":'<img style="width:300px;height:314;" src="/static/assets/images/briouze/7.png"/>',
	"witnesses": []
	},

	{"order": "339",
	 "desc": "Sunehild is sent to measure William Cragh",
	 "location":'<img style="width:300px;height:296;" src="/static/assets/images/briouze/4.png"/>',
	"witnesses": []
	},

	{"order": "71",
	 "desc": "Sunehild measures William Cragh",
	 "location":'<img style="width:300px;height:314;" src="/static/assets/images/briouze/7.png"/>',
	"witnesses": []
	},

	{"order": "61",
	 "desc": "William Cragh begins to breathe",
	 "location":'<img style="width:300px;height:314;" src="/static/assets/images/briouze/7.png"/>',
	"witnesses": [
	 					{
	 					"name":"John of Baggeham",
	 					"id":"286",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"William Cragh moves a foot",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"feet"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Thomas Mathews' house",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"transition"}],
	 					"event_subtype":"resuscitation"
	 					}, 
	 					{
	 					"name":"John of Baggeham",
	 					"id":"287",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"William Cragh breathes in a little",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"breath"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Thomas Mathews' house",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"transition"}],
	 					"event_subtype":"resuscitation"
	 					}, 
	 					{
	 					"name":"John of Baggeham",
	 					"id":"290",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"William Cragh's eyes withdraw into their sockets",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"},{"desc":"eyes"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Thomas Mathews' house",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"transition"}],
	 					"event_subtype":"resuscitation"
	 					}, 
	 					{
	 					"name":"John of Baggeham",
	 					"id":"291",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"William Cragh closes his eyes",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"eyes"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Thomas Mathews' house",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"transition"}],
	 					"event_subtype":"resuscitation"
	 					}, 
	 					{
	 					"name":"John of Baggeham",
	 					"id":"292",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"William Cragh opens his eyes",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"eyes"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Thomas Mathews' house",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"transition"}],
	 					"event_subtype":"resuscitation"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"61",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"William Cragh begins to breathe",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"breath"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"transition"}],
	 					"event_subtype":"resurrection"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"62",						
	 					"slug":"william-cragh",							
	 					"desc":"Signs of life appear in William Cragh",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"life"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Thomas Mathews' house",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"transition"}],
	 					"event_subtype":"resucitation"
	 					}, 
	 					{
	 					"name":"William de Briouze Jnr",
	 					"id":"27",						
	 					"slug":"william-de-briouze-jnr",							
	 					"desc":"William Cragh is restored to life",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"life"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"status"}],
	 					"event_subtype":"resuscitation"
	 					}, 
	 					{
	 					"name":"William de Briouze Jnr",
	 					"id":"31",						
	 					"slug":"william-de-briouze-jnr",							
	 					"desc":"William Cragh moves a leg",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"leg"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"resuscitation"
	 					}, 
	 					{
	 					"name":"William de Briouze Jnr",
	 					"id":"56",						
	 					"slug":"william-de-briouze-jnr",							
	 					"desc":"William Cragh begins to breathe",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"breath"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"transition"}],
	 					"event_subtype":"resuscitation"
	 					}, 
	 					{
	 					"name":"William de Briouze Jnr",
	 					"id":"154",						
	 					"slug":"william-de-briouze-jnr",							
	 					"desc":"William Cragh's tongue is smaller but sticking out",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"tongue"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Thomas Mathews' house",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"status"}],
	 					"event_subtype":"alive"
	 					} 
	 					
	 			   ]
	},

	{"order": "336",
	 "desc": "Mary de Briouze feeds William Cragh broth for several days",
	 "location":'<img style="width:300px;height:314;" src="/static/assets/images/briouze/7.png"/>',
	"witnesses": [
	 					{
	 					"name":"John of Baggeham",
	 					"id":"295",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"Mary de Briouze prepares almond broth",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Mary de Briouze"}],
	 					"objects":[ { "desc":"broth"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"New Castle",
	 					"event_loc":"New Castle",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"charity"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"336",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"Mary de Briouze feeds William Cragh broth for several days",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Mary de Briouze"}],
	 					"objects":[ { "desc":"William Cragh"} , { "desc":"broth"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"charity"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"213",						
	 					"slug":"william-cragh",							
	 					"desc":"William Cragh is weak for a week",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"status"}],
	 					"event_subtype":"resuscitation"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"5",						
	 					"slug":"william-of-codineston",							
	 					"desc":"William Cragh only able to consume broth",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"broth"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"eating"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"35",						
	 					"slug":"william-of-codineston",							
	 					"desc":"William Cragh lies weak for weeks",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"New Castle",
	 					"event_loc":"",
	 					"event_types": [{"desc":"status"}],
	 					"event_subtype":"resucitation"
	 					} 
	 					
	 			   ]
	},

	{"order": "342",
	 "desc": "Mary de Briouze and William Cragh go to Hereford",
	 "location":'<img style="width:300px;height:225;" src="/static/assets/images/briouze/6.png"/>',
	"witnesses": [
	 					{
	 					"name":"John ap Hywel",
	 					"id":"43",						
	 					"slug":"john-ap-hywel",							
	 					"desc":"William Cragh is taken to Hereford",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"pilgrimage"} ],
	 					"from":"Swansea",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"pilgrimage"
	 					}, 
	 					{
	 					"name":"John of Baggeham",
	 					"id":"15",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"Mary de Briouze, William de Briouze Snr and William Cragh go to Hereford",
	 					"pathway":"heard",
	 					"subjects":[],
	 					"objects":[ { "desc":"pilgrimage"} ],
	 					"from":"Swansea",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"Swansea",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"pilrimage"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"341",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"Te Deum sung at Hereford",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"song"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Hereford Cathedral",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"social"}],
	 					"event_subtype":"devotion"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"342",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"Mary de Briouze and William Cragh go to Hereford",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Mary de Briouze"},{"desc":"William Cragh"},{"desc":"William de Briouze Snr"}],
	 					"objects":[ { "desc":"Hereford"} ],
	 					"from":"New Castle",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"Hereford Cathedral",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"pilgrimage"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"254",						
	 					"slug":"william-cragh",							
	 					"desc":"The miracle is proclaimed in Hereford ",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"miracle"}],
	 					"objects":[ { "desc":"Hereford"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Hereford Cathedral",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"devotion"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"263",						
	 					"slug":"william-cragh",							
	 					"desc":"William Cragh, Mary de Briouze and William de Briouze Snr go on pilgrimage to Hereford",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Mary de Briouze"},{"desc":"William Cragh"},{"desc":"William de Briouze Snr"}],
	 					"objects":[ { "desc":"pilgrimage"} , { "desc":"Hereford"} ],
	 					"from":"New Castle",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"Hereford Cathedral",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"journey"
	 					}, 
	 					{
	 					"name":"William de Briouze Jnr",
	 					"id":"22",						
	 					"slug":"william-de-briouze-jnr",							
	 					"desc":"William Cragh carries the string to Hereford",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"string"} ],
	 					"from":"Swansea",
	 					"to":"Tomb",
	 					"witness_loc":"",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"devotion"
	 					}, 
	 					{
	 					"name":"William de Briouze Jnr",
	 					"id":"23",						
	 					"slug":"william-de-briouze-jnr",							
	 					"desc":"William Cragh, Mary de Briouze, and William de Briouze Snr go on pilgrimage to Hereford",
	 					"pathway":"heard",
	 					"subjects":[],
	 					"objects":[ { "desc":"pilgrimage"} ],
	 					"from":"New Castle",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"Swansea",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"pilgrimage"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"65",						
	 					"slug":"william-of-codineston",							
	 					"desc":"William Cragh, Mary de Briouze and William de Briouze Snr go on pilgrimage to Hereford",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"Mary de Briouze"},{"desc":"William Cragh"},{"desc":"William de Briouze Snr"}],
	 					"objects":[ { "desc":"pilgrimage"} ],
	 					"from":"New Castle",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"New Castle",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"journey"}],
	 					"event_subtype":"pilgrimage"
	 					} 
	 					
	 			   ]
	},

	{"order": "340",
	 "desc": "William Cragh presents a rope noose and wax figure at St Thomas' tomb",
	 "location":'<img style="width:300px;height:225;" src="/static/assets/images/briouze/6.png"/>',
	"witnesses": []
	},

	{"order": "341",
	 "desc": "Te Deum sung at Hereford",
	 "location":'<img style="width:300px;height:225;" src="/static/assets/images/briouze/6.png"/>',
	"witnesses": [
	 					{
	 					"name":"John ap Hywel",
	 					"id":"43",						
	 					"slug":"john-ap-hywel",							
	 					"desc":"William Cragh is taken to Hereford",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"pilgrimage"} ],
	 					"from":"Swansea",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"pilgrimage"
	 					}, 
	 					{
	 					"name":"John of Baggeham",
	 					"id":"15",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"Mary de Briouze, William de Briouze Snr and William Cragh go to Hereford",
	 					"pathway":"heard",
	 					"subjects":[],
	 					"objects":[ { "desc":"pilgrimage"} ],
	 					"from":"Swansea",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"Swansea",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"pilrimage"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"341",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"Te Deum sung at Hereford",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"song"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Hereford Cathedral",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"social"}],
	 					"event_subtype":"devotion"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"342",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"Mary de Briouze and William Cragh go to Hereford",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Mary de Briouze"},{"desc":"William Cragh"},{"desc":"William de Briouze Snr"}],
	 					"objects":[ { "desc":"Hereford"} ],
	 					"from":"New Castle",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"Hereford Cathedral",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"pilgrimage"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"254",						
	 					"slug":"william-cragh",							
	 					"desc":"The miracle is proclaimed in Hereford ",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"miracle"}],
	 					"objects":[ { "desc":"Hereford"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Hereford Cathedral",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"devotion"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"263",						
	 					"slug":"william-cragh",							
	 					"desc":"William Cragh, Mary de Briouze and William de Briouze Snr go on pilgrimage to Hereford",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Mary de Briouze"},{"desc":"William Cragh"},{"desc":"William de Briouze Snr"}],
	 					"objects":[ { "desc":"pilgrimage"} , { "desc":"Hereford"} ],
	 					"from":"New Castle",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"Hereford Cathedral",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"journey"
	 					}, 
	 					{
	 					"name":"William de Briouze Jnr",
	 					"id":"22",						
	 					"slug":"william-de-briouze-jnr",							
	 					"desc":"William Cragh carries the string to Hereford",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"string"} ],
	 					"from":"Swansea",
	 					"to":"Tomb",
	 					"witness_loc":"",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"devotion"
	 					}, 
	 					{
	 					"name":"William de Briouze Jnr",
	 					"id":"23",						
	 					"slug":"william-de-briouze-jnr",							
	 					"desc":"William Cragh, Mary de Briouze, and William de Briouze Snr go on pilgrimage to Hereford",
	 					"pathway":"heard",
	 					"subjects":[],
	 					"objects":[ { "desc":"pilgrimage"} ],
	 					"from":"New Castle",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"Swansea",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"pilgrimage"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"65",						
	 					"slug":"william-of-codineston",							
	 					"desc":"William Cragh, Mary de Briouze and William de Briouze Snr go on pilgrimage to Hereford",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"Mary de Briouze"},{"desc":"William Cragh"},{"desc":"William de Briouze Snr"}],
	 					"objects":[ { "desc":"pilgrimage"} ],
	 					"from":"New Castle",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"New Castle",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"journey"}],
	 					"event_subtype":"pilgrimage"
	 					} 
	 					
	 			   ]
	}
] });

function getWitnesses(eventObject){
	var str = "" // <div>";
	for (w in eventObject.witnesses){
		// Close last div only if a new witness and not the first iteration
		if ( currWitness!=eventObject.witnesses[w].name && w!=0 ) { str = str + '</div>' }

		if ( currWitness!=eventObject.witnesses[w].name ){
		str = str + "<div class='witness-section'><span class='timeline-witness-header'>As "+eventObject.witnesses[w].pathway + ' by </span><span class="timeline-witness"><a href="/witness-timeline/' + eventObject.witnesses[w].slug +'/witness.html#event-'+ eventObject.witnesses[w].id +'">' 
		+ eventObject.witnesses[w].name + "</a></span></b>"
				  + "<br />" + eventObject.witnesses[w].desc
		}
		else{
			str = str + "<br />" + eventObject.witnesses[w].desc
		}

		var currWitness = eventObject.witnesses[w].name;

		// Close last div only if end of loop
		if ( w==(eventObject.witnesses.length-1) ) { str = str + '</div>' }		
	};

	//str += "</div>";
	return str;
};

function getImageUrl(eventObject){
	var str = "";
	if (eventObject.location != 'Not specified'){
		str = eventObject.location
	}
	else {
		str = '<p>Nothing yet!<p>'
	}
	return str;
}


function Arrow_Points()
{ 
var s = $('#timeline-container').find('.timeline-item');
$.each(s,function(i,obj){
	var o = $(obj).offset()['left']
	// Check if it is the first iteration and store the left offset...
			if (i==0){
				minLeft=$(obj).offset()['left'];
			};
		if ( $(obj).offset()['left'] > minLeft  )
			{
			html = "<div class='tail-left'></div>";
			$(obj).prepend(html);
		
			}
		else
		{
			html = "<div class='tail-right'></div>";
			$(obj).prepend(html);
	
		}
	});
}


function AssignMargins(){ 
var s = $('#timeline-container').find('.timeline-item');
$.each(s,function(i,obj){
	var o = $(obj).offset()['left']
	// Check if it is the first iteration and store the left offset...
			if (i==0){
				minLeft=$(obj).offset()['left'];
			};
		if ( $(obj).offset()['left'] > (minLeft+100) ) /* || $(obj).offset()['left'] < 
				$( $('#timeline-container').find('.timeline-item')[1] ).offset()['left'] ) */
			{
			  $(obj).addClass('item-right')
				if ( $(obj).hasClass('item-left')){
					$(obj).removeClass('item-left')
				}
			}
		else
		{
			  $(obj).addClass('item-left')	
				if ( $(obj).hasClass('item-right') ){
					$(obj).removeClass('item-right')
				}			  
		}
	});
}
 





$(document).ready(function(){
	// Create a div for each event
	for (e in timeline.events){
		$('#timeline-container').append("<div id='timeline-item-"+ e +"' class='timeline-item large-6 columns'>"+ e + "</div>");
	};


	
	for (e in timeline.events){
		$($('.timeline-item')[e]).html(
		"<div class='timeline-content' id='event-"+ timeline.events[e].order +"'>" +
		"<h4 class='timeline-header'>"+ timeline.events[e].desc +"</h4>"+
		"<div class='timeline-left'>" + getImageUrl( timeline.events[e] ) +"</div>"+
		"<div class='timeline-right'>"+ 
					getWitnesses( timeline.events[e] )
		+ "</div>" +
		"</div>"
		);
	}

   	$('#timeline-item-0').after("<div class='timeline-item fake' style='height:1px;'> </div>")
	
    $($('.timeline-item')[0]).before(
	'<div class="timeline_container">'+
		'<div class="timeline">'+
			'<div class="plus"></div>'+
		'</div>' +
	'</div>'
	);
	
	
	window.setTimeout(masonryLayout, 1000);

});

function masonryLayout(){
	$('#timeline-container').masonry({itemSelector : '.timeline-item',transitionDuration: 0});
	
	AssignMargins();
	
	$('#timeline-container').masonry({itemSelector : '.timeline-item',transitionDuration: 0});
	
	AssignMargins();
	
	Arrow_Points()
	$('.fake').remove();
	var fakeHash = 	window.location.hash;
	window.location.hash = ''
	window.location.hash = fakeHash;
};
