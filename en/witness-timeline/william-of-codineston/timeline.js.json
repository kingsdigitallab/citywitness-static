var timeline = ({"events": [
	{"order": "81",
	 "desc": "William Cragh and Trahaearn are captured",
	 "location":'<img style="width:300px;height:218;" src="/geoserver/wms?LAYERS=Project_data:dcow_backdrop&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-458372.253295,6717199.2776,-430319.863918,6737607.96415&HEIGHT=218&WIDTH=300"/>',
	"witnesses": [
	 					{
	 					"name":"John of Baggeham",
	 					"id":"74",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"William Cragh is captured",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"",
	 					"event_loc":"Oystermouth Castle",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"capture"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"13",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"William Cragh is captured",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Oystermouth Castle",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"capture"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"276",						
	 					"slug":"william-cragh",							
	 					"desc":"William Cragh is captured",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Oystermouth Castle",
	 					"event_loc":"Oystermouth Castle",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"capture"
	 					}, 
	 					{
	 					"name":"William de Briouze Jnr",
	 					"id":"64",						
	 					"slug":"william-de-briouze-jnr",							
	 					"desc":"William Cragh is captured",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"",
	 					"event_loc":"Oystermouth Castle",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"capture"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"81",						
	 					"slug":"william-of-codineston",							
	 					"desc":"William Cragh and Trahaearn are captured",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"},{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Oystermouth Castle",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"capture"
	 					} 
	 					
	 			   ]
	},

	{"order": "358",
	 "desc": "William Cragh and Trahaearn led to the gallows",
	 "location":'<img style="width:300px;height:277;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-439604.574196,6732307.53397,-439117.288141,6732758.99017&HEIGHT=277&WIDTH=300"/>',
	"witnesses": [
	 					{
	 					"name":"Adam of Loughor",
	 					"id":"253",						
	 					"slug":"adam-of-loughor",							
	 					"desc":"William Cragh is led to the gallows",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"gallows"} ],
	 					"from":"Swansea",
	 					"to":"Gallows",
	 					"witness_loc":"Town Walls",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"journey"
	 					}, 
	 					{
	 					"name":"John of Baggeham",
	 					"id":"204",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"William Cragh is led to the gallows by horsemen",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"gallows"} ],
	 					"from":"New Castle",
	 					"to":"Gallows",
	 					"witness_loc":"",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"journey"
	 					}, 
	 					{
	 					"name":"Thomas Marshall",
	 					"id":"125",						
	 					"slug":"thomas-marshall",							
	 					"desc":"William Cragh and Trahaearn led to the gallows",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"},{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"gallows"} ],
	 					"from":"New Castle",
	 					"to":"Gallows",
	 					"witness_loc":"West Gate",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"journey"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"212",						
	 					"slug":"william-cragh",							
	 					"desc":"William Cragh is led to the gallows",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"gallows"} ],
	 					"from":"The Dungeon",
	 					"to":"Gallows",
	 					"witness_loc":"",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"journey"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"214",						
	 					"slug":"william-cragh",							
	 					"desc":"William Cragh is led to the gallows",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"gallows"} ],
	 					"from":"The Dungeon",
	 					"to":"Gallows",
	 					"witness_loc":"",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"journey"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"358",						
	 					"slug":"william-of-codineston",							
	 					"desc":"William Cragh and Trahaearn led to the gallows",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"},{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"The Dungeon",
	 					"to":"Gallows",
	 					"witness_loc":"New Castle",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"journey"
	 					} 
	 					
	 			   ]
	},

	{"order": "360",
	 "desc": "William Cragh wants to confess his sins",
	 "location":'<img style="width:300px;height:277;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-439604.574196,6732307.53397,-439117.288141,6732758.99017&HEIGHT=277&WIDTH=300"/>',
	"witnesses": []
	},

	{"order": "359",
	 "desc": "William Cragh and William of Codineston are unable to communicate",
	 "location":'<img style="width:300px;height:277;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-439604.574196,6732307.53397,-439117.288141,6732758.99017&HEIGHT=277&WIDTH=300"/>',
	"witnesses": []
	},

	{"order": "361",
	 "desc": "William Cragh confesses to Madog",
	 "location":'<img style="width:300px;height:277;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-439604.574196,6732307.53397,-439117.288141,6732758.99017&HEIGHT=277&WIDTH=300"/>',
	"witnesses": []
	},

	{"order": "79",
	 "desc": "William Cragh asks for St Thomas to intervene",
	 "location":'<img style="width:300px;height:277;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-439604.574196,6732307.53397,-439117.288141,6732758.99017&HEIGHT=277&WIDTH=300"/>',
	"witnesses": []
	},

	{"order": "78",
	 "desc": "William Cragh is hanged",
	 "location":'<img style="width:300px;height:277;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-439604.574196,6732307.53397,-439117.288141,6732758.99017&HEIGHT=277&WIDTH=300"/>',
	"witnesses": [
	 					{
	 					"name":"Adam of Loughor",
	 					"id":"247",						
	 					"slug":"adam-of-loughor",							
	 					"desc":"William Cragh is hanged",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"hanging"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Town Walls",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"Henry Skinner",
	 					"id":"356",						
	 					"slug":"henry-skinner",							
	 					"desc":"William Cragh is hanged by his family",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"Dafydd Asser"} , { "desc":"Gruffudd Foel"} , { "desc":"Uthel Fachen"} , { "desc":"Yry son of Veil"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Gallows",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"John ap Hywel",
	 					"id":"241",						
	 					"slug":"john-ap-hywel",							
	 					"desc":"William Cragh is hanged",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"hanging"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Market Place",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"John of Baggeham",
	 					"id":"230",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"William Cragh is hanged by his family",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"Dafydd Asser"} , { "desc":"Gruffudd Foel"} , { "desc":"Uthel Fachen"} , { "desc":"Yry son of Veil"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Gallows",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"28",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"William Cragh is hanged",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"Thomas Marshall",
	 					"id":"83",						
	 					"slug":"thomas-marshall",							
	 					"desc":"William Cragh is hanged by his family",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"Dafydd Asser"} , { "desc":"Gruffudd Foel"} , { "desc":"Uthel Fachen"} , { "desc":"Yry son of Veil"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"West Gate",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"Thomas Marshall",
	 					"id":"123",						
	 					"slug":"thomas-marshall",							
	 					"desc":"William Cragh is hanged",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"West Gate",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"196",						
	 					"slug":"william-cragh",							
	 					"desc":"William Cragh is hanged by Uthel Fachen",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"Uthel Fachen"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Gallows",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"William de Briouze Jnr",
	 					"id":"198",						
	 					"slug":"william-de-briouze-jnr",							
	 					"desc":"William Cragh is hanged",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"hanging"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"78",						
	 					"slug":"william-of-codineston",							
	 					"desc":"William Cragh is hanged",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					} 
	 					
	 			   ]
	},

	{"order": "80",
	 "desc": "William Cragh is supported by a bishop on the gallows",
	 "location":'<img style="width:300px;height:277;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-439604.574196,6732307.53397,-439117.288141,6732758.99017&HEIGHT=277&WIDTH=300"/>',
	"witnesses": []
	},

	{"order": "7",
	 "desc": "William Cragh says he does not know who the bishop is who supports his feet on the gallows",
	 "location":'<img style="width:300px;height:277;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-439604.574196,6732307.53397,-439117.288141,6732758.99017&HEIGHT=277&WIDTH=300"/>',
	"witnesses": []
	},

	{"order": "77",
	 "desc": "Trahaearn is hanged",
	 "location":'<img style="width:300px;height:277;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-439604.574196,6732307.53397,-439117.288141,6732758.99017&HEIGHT=277&WIDTH=300"/>',
	"witnesses": [
	 					{
	 					"name":"Adam of Loughor",
	 					"id":"249",						
	 					"slug":"adam-of-loughor",							
	 					"desc":"Trahaearn is hanged",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"}],
	 					"objects":[ { "desc":"hanging"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Town Walls",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"Henry Skinner",
	 					"id":"345",						
	 					"slug":"henry-skinner",							
	 					"desc":"Trahaearn is hanged",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Gallows",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"John ap Hywel",
	 					"id":"243",						
	 					"slug":"john-ap-hywel",							
	 					"desc":"Trahaearn is hanged",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"}],
	 					"objects":[ { "desc":"hanging"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Market Place",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"John of Baggeham",
	 					"id":"232",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"Trahaearn is hanged",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Gallows",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"30",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"Trahaearn is hanged",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"54",						
	 					"slug":"william-cragh",							
	 					"desc":"Trahaearn is hanged",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Gallows",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"77",						
	 					"slug":"william-of-codineston",							
	 					"desc":"Trahaearn is hanged",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"Trahaearn ap Hywel"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"punishment"
	 					} 
	 					
	 			   ]
	},

	{"order": "72",
	 "desc": "The beam of the gallows breaks",
	 "location":'<img style="width:300px;height:277;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-439604.574196,6732307.53397,-439117.288141,6732758.99017&HEIGHT=277&WIDTH=300"/>',
	"witnesses": [
	 					{
	 					"name":"Adam of Loughor",
	 					"id":"250",						
	 					"slug":"adam-of-loughor",							
	 					"desc":"The beam of the gallows breaks",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"beam"}],
	 					"objects":[ { "desc":"gallows"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Town Walls",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"breaking"
	 					}, 
	 					{
	 					"name":"Henry Skinner",
	 					"id":"346",						
	 					"slug":"henry-skinner",							
	 					"desc":"The beam of the gallows breaks",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"beam"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Gallows",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"breaking"
	 					}, 
	 					{
	 					"name":"John ap Hywel",
	 					"id":"244",						
	 					"slug":"john-ap-hywel",							
	 					"desc":"The beam of the gallows breaks",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"beam"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Market Place",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"breaking"
	 					}, 
	 					{
	 					"name":"John of Baggeham",
	 					"id":"237",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"The beam of the gallows breaks",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"beam"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Gallows",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"breaking"
	 					}, 
	 					{
	 					"name":"Thomas Marshall",
	 					"id":"107",						
	 					"slug":"thomas-marshall",							
	 					"desc":"The beam of the gallows breaks",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"gallows"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"West Gate",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"breaking"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"51",						
	 					"slug":"william-cragh",							
	 					"desc":"The beam of the gallows breaks",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"beam"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Gallows",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"breaking"
	 					}, 
	 					{
	 					"name":"William de Briouze Jnr",
	 					"id":"156",						
	 					"slug":"william-de-briouze-jnr",							
	 					"desc":"The beam of the gallows breaks",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"beam"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"break"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"72",						
	 					"slug":"william-of-codineston",							
	 					"desc":"The beam of the gallows breaks",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"beam"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Gallows",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"breaking"
	 					} 
	 					
	 			   ]
	},

	{"order": "59",
	 "desc": "William Cragh and Trahaearn fall to the ground",
	 "location":'<img style="width:300px;height:277;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-439604.574196,6732307.53397,-439117.288141,6732758.99017&HEIGHT=277&WIDTH=300"/>',
	"witnesses": []
	},

	{"order": "16",
	 "desc": "Gallows re-erected",
	 "location":'<img style="width:300px;height:277;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-439604.574196,6732307.53397,-439117.288141,6732758.99017&HEIGHT=277&WIDTH=300"/>',
	"witnesses": []
	},

	{"order": "66",
	 "desc": "William Cragh and Trahaearn are carried to St John's Chapel",
	 "location":'<img style="width:300px;height:380;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-438857.521678,6732728.53479,-438704.647621,6732922.01602&HEIGHT=380&WIDTH=300"/>',
	"witnesses": []
	},

	{"order": "69",
	 "desc": "William Cragh is measured to St Thomas",
	 "location":'<img style="width:300px;height:314;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-438880.811085,6732780.48808,-438625.224772,6733048.01768&HEIGHT=314&WIDTH=300"/>',
	"witnesses": [
	 					{
	 					"name":"Adam of Loughor",
	 					"id":"57",						
	 					"slug":"adam-of-loughor",							
	 					"desc":"William Cragh is measured to St Thomas",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"Thomas de Cantilupe"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"devotion"
	 					}, 
	 					{
	 					"name":"Henry Skinner",
	 					"id":"20",						
	 					"slug":"henry-skinner",							
	 					"desc":"William Cragh is measured to St Thomas",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"Thomas de Cantilupe"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"devotion"
	 					}, 
	 					{
	 					"name":"John ap Hywel",
	 					"id":"34",						
	 					"slug":"john-ap-hywel",							
	 					"desc":"William Cragh is measured to St Thomas",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"Thomas de Cantilupe"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Thomas Mathews' house",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"devotion"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"44",						
	 					"slug":"william-cragh",							
	 					"desc":"William Cragh is measured to St Thomas",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Thomas Mathews' house",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"devotion"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"69",						
	 					"slug":"william-of-codineston",							
	 					"desc":"William Cragh is measured to St Thomas",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"Thomas de Cantilupe"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"devotiom"
	 					} 
	 					
	 			   ]
	},

	{"order": "68",
	 "desc": "William Cragh moves his tongue",
	 "location":'<img style="width:300px;height:314;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-438880.811085,6732780.48808,-438625.224772,6733048.01768&HEIGHT=314&WIDTH=300"/>',
	"witnesses": []
	},

	{"order": "67",
	 "desc": "William Cragh moves his limbs",
	 "location":'<img style="width:300px;height:314;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-438880.811085,6732780.48808,-438625.224772,6733048.01768&HEIGHT=314&WIDTH=300"/>',
	"witnesses": []
	},

	{"order": "5",
	 "desc": "William Cragh only able to consume broth",
	 "location":'<img style="width:300px;height:314;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-438880.811085,6732780.48808,-438625.224772,6733048.01768&HEIGHT=314&WIDTH=300"/>',
	"witnesses": [
	 					{
	 					"name":"John of Baggeham",
	 					"id":"295",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"Mary de Briouze prepares almond broth",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Mary de Briouze"}],
	 					"objects":[ { "desc":"broth"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"New Castle",
	 					"event_loc":"New Castle",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"charity"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"336",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"Mary de Briouze feeds William Cragh broth for several days",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Mary de Briouze"}],
	 					"objects":[ { "desc":"William Cragh"} , { "desc":"broth"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"charity"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"213",						
	 					"slug":"william-cragh",							
	 					"desc":"William Cragh is weak for a week",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"status"}],
	 					"event_subtype":"resuscitation"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"5",						
	 					"slug":"william-of-codineston",							
	 					"desc":"William Cragh only able to consume broth",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"broth"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"eating"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"35",						
	 					"slug":"william-of-codineston",							
	 					"desc":"William Cragh lies weak for weeks",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"New Castle",
	 					"event_loc":"",
	 					"event_types": [{"desc":"status"}],
	 					"event_subtype":"resucitation"
	 					} 
	 					
	 			   ]
	},

	{"order": "35",
	 "desc": "William Cragh lies weak for weeks",
	 "location":'Not specified',
	"witnesses": [
	 					{
	 					"name":"John of Baggeham",
	 					"id":"295",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"Mary de Briouze prepares almond broth",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Mary de Briouze"}],
	 					"objects":[ { "desc":"broth"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"New Castle",
	 					"event_loc":"New Castle",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"charity"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"336",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"Mary de Briouze feeds William Cragh broth for several days",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Mary de Briouze"}],
	 					"objects":[ { "desc":"William Cragh"} , { "desc":"broth"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"charity"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"213",						
	 					"slug":"william-cragh",							
	 					"desc":"William Cragh is weak for a week",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"status"}],
	 					"event_subtype":"resuscitation"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"5",						
	 					"slug":"william-of-codineston",							
	 					"desc":"William Cragh only able to consume broth",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"broth"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Old Castle",
	 					"event_loc":"Thomas Mathews' house",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"eating"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"35",						
	 					"slug":"william-of-codineston",							
	 					"desc":"William Cragh lies weak for weeks",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"New Castle",
	 					"event_loc":"",
	 					"event_types": [{"desc":"status"}],
	 					"event_subtype":"resucitation"
	 					} 
	 					
	 			   ]
	},

	{"order": "275",
	 "desc": "William Cragh visits Swansea Castle ",
	 "location":'<img style="width:300px;height:296;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-438810.345699,6731681.7058,-438650.902836,6731839.35717&HEIGHT=296&WIDTH=300"/>',
	"witnesses": []
	},

	{"order": "357",
	 "desc": "William Cragh visits Swansea Castle ",
	 "location":'<img style="width:300px;height:296;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-438810.345699,6731681.7058,-438650.902836,6731839.35717&HEIGHT=296&WIDTH=300"/>',
	"witnesses": []
	},

	{"order": "362",
	 "desc": "William Cragh tells the de Briouzes and William of Codineston his story",
	 "location":'<img style="width:300px;height:296;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-438810.345699,6731681.7058,-438650.902836,6731839.35717&HEIGHT=296&WIDTH=300"/>',
	"witnesses": []
	},

	{"order": "65",
	 "desc": "William Cragh, Mary de Briouze and William de Briouze Snr go on pilgrimage to Hereford",
	 "location":'<img style="width:300px;height:225;" src="/geoserver/wms?LAYERS=Project_data:dcow_backdrop&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-450061.22248,6687322.72968,-155320.041454,6908684.36357&HEIGHT=225&WIDTH=300"/>',
	"witnesses": [
	 					{
	 					"name":"John ap Hywel",
	 					"id":"43",						
	 					"slug":"john-ap-hywel",							
	 					"desc":"William Cragh is taken to Hereford",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"pilgrimage"} ],
	 					"from":"Swansea",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"pilgrimage"
	 					}, 
	 					{
	 					"name":"John of Baggeham",
	 					"id":"15",						
	 					"slug":"john-of-baggeham",							
	 					"desc":"Mary de Briouze, William de Briouze Snr and William Cragh go to Hereford",
	 					"pathway":"heard",
	 					"subjects":[],
	 					"objects":[ { "desc":"pilgrimage"} ],
	 					"from":"Swansea",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"Swansea",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"pilrimage"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"341",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"Te Deum sung at Hereford",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"song"}],
	 					"objects":[],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Hereford Cathedral",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"social"}],
	 					"event_subtype":"devotion"
	 					}, 
	 					{
	 					"name":"Mary de Briouze",
	 					"id":"342",						
	 					"slug":"mary-de-briouze",							
	 					"desc":"Mary de Briouze and William Cragh go to Hereford",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Mary de Briouze"},{"desc":"William Cragh"},{"desc":"William de Briouze Snr"}],
	 					"objects":[ { "desc":"Hereford"} ],
	 					"from":"New Castle",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"Hereford Cathedral",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"pilgrimage"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"254",						
	 					"slug":"william-cragh",							
	 					"desc":"The miracle is proclaimed in Hereford ",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"miracle"}],
	 					"objects":[ { "desc":"Hereford"} ],
	 					"from":"",
	 					"to":"",
	 					"witness_loc":"Hereford Cathedral",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"devotion"
	 					}, 
	 					{
	 					"name":"William Cragh",
	 					"id":"263",						
	 					"slug":"william-cragh",							
	 					"desc":"William Cragh, Mary de Briouze and William de Briouze Snr go on pilgrimage to Hereford",
	 					"pathway":"witnessed",
	 					"subjects":[{"desc":"Mary de Briouze"},{"desc":"William Cragh"},{"desc":"William de Briouze Snr"}],
	 					"objects":[ { "desc":"pilgrimage"} , { "desc":"Hereford"} ],
	 					"from":"New Castle",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"Hereford Cathedral",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"journey"
	 					}, 
	 					{
	 					"name":"William de Briouze Jnr",
	 					"id":"22",						
	 					"slug":"william-de-briouze-jnr",							
	 					"desc":"William Cragh carries the string to Hereford",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"William Cragh"}],
	 					"objects":[ { "desc":"string"} ],
	 					"from":"Swansea",
	 					"to":"Tomb",
	 					"witness_loc":"",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"action"}],
	 					"event_subtype":"devotion"
	 					}, 
	 					{
	 					"name":"William de Briouze Jnr",
	 					"id":"23",						
	 					"slug":"william-de-briouze-jnr",							
	 					"desc":"William Cragh, Mary de Briouze, and William de Briouze Snr go on pilgrimage to Hereford",
	 					"pathway":"heard",
	 					"subjects":[],
	 					"objects":[ { "desc":"pilgrimage"} ],
	 					"from":"New Castle",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"Swansea",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"travel"}],
	 					"event_subtype":"pilgrimage"
	 					}, 
	 					{
	 					"name":"William of Codineston",
	 					"id":"65",						
	 					"slug":"william-of-codineston",							
	 					"desc":"William Cragh, Mary de Briouze and William de Briouze Snr go on pilgrimage to Hereford",
	 					"pathway":"heard",
	 					"subjects":[{"desc":"Mary de Briouze"},{"desc":"William Cragh"},{"desc":"William de Briouze Snr"}],
	 					"objects":[ { "desc":"pilgrimage"} ],
	 					"from":"New Castle",
	 					"to":"Hereford Cathedral",
	 					"witness_loc":"New Castle",
	 					"event_loc":"Hereford Cathedral",
	 					"event_types": [{"desc":"journey"}],
	 					"event_subtype":"pilgrimage"
	 					} 
	 					
	 			   ]
	},

	{"order": "17",
	 "desc": "William Cragh offers a wax model of a man on a gallows at St Thomas' tomb",
	 "location":'<img style="width:300px;height:225;" src="/geoserver/wms?LAYERS=Project_data:dcow_backdrop&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-450061.22248,6687322.72968,-155320.041454,6908684.36357&HEIGHT=225&WIDTH=300"/>',
	"witnesses": []
	},

	{"order": "6",
	 "desc": "William Cragh vows to go on a pilgrimage to the Holy Land",
	 "location":'<img style="width:300px;height:267;" src="/geoserver/wms?LAYERS=Project_data:dcow_backdrop&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=3165104.46679,3155320.52717,4847942.08128,4657155.25871&HEIGHT=267&WIDTH=300"/>',
	"witnesses": []
	},

	{"order": "82",
	 "desc": "William Cragh remains living in Swansea",
	 "location":'<img style="width:300px;height:380;" src="/geoserver/wms?LAYERS=TMS_Style_CW&STYLES=&FORMAT=image%2Fpng&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG%3A900913&BBOX=-439549.635082,6730728.6316,-437600.490861,6733203.28039&HEIGHT=380&WIDTH=300"/>',
	"witnesses": []
	}
] });

function getWitnesses(eventObject){
	var str = "" // <div>";
	for (w in eventObject.witnesses){
		// Close last div only if a new witness and not the first iteration
		if ( currWitness!=eventObject.witnesses[w].name && w!=0 ) { str = str + '</div>' }

		if ( currWitness!=eventObject.witnesses[w].name ){
		str = str + "<div class='witness-section'><span class='timeline-witness-header'>As "+eventObject.witnesses[w].pathway + ' by </span><span class="timeline-witness"><a href="/witness-timeline/' + eventObject.witnesses[w].slug +'/witness.html#event-'+ eventObject.witnesses[w].id +'">' 
		+ eventObject.witnesses[w].name + "</a></span></b>"
				  + "<br />" + eventObject.witnesses[w].desc
		}
		else{
			str = str + "<br />" + eventObject.witnesses[w].desc
		}

		var currWitness = eventObject.witnesses[w].name;

		// Close last div only if end of loop
		if ( w==(eventObject.witnesses.length-1) ) { str = str + '</div>' }		
	};

	//str += "</div>";
	return str;
};

function getImageUrl(eventObject){
	var str = "";
	if (eventObject.location != 'Not specified'){
		str = eventObject.location
	}
	else {
		str = '<p>Nothing yet!<p>'
	}
	return str;
}


function Arrow_Points()
{ 
var s = $('#timeline-container').find('.timeline-item');
$.each(s,function(i,obj){
	var o = $(obj).offset()['left']
	// Check if it is the first iteration and store the left offset...
			if (i==0){
				minLeft=$(obj).offset()['left'];
			};
		if ( $(obj).offset()['left'] > minLeft  )
			{
			html = "<div class='tail-left'></div>";
			$(obj).prepend(html);
		
			}
		else
		{
			html = "<div class='tail-right'></div>";
			$(obj).prepend(html);
	
		}
	});
}


function AssignMargins(){ 
var s = $('#timeline-container').find('.timeline-item');
$.each(s,function(i,obj){
	var o = $(obj).offset()['left']
	// Check if it is the first iteration and store the left offset...
			if (i==0){
				minLeft=$(obj).offset()['left'];
			};
		if ( $(obj).offset()['left'] > (minLeft+100) ) /* || $(obj).offset()['left'] < 
				$( $('#timeline-container').find('.timeline-item')[1] ).offset()['left'] ) */
			{
			  $(obj).addClass('item-right')
				if ( $(obj).hasClass('item-left')){
					$(obj).removeClass('item-left')
				}
			}
		else
		{
			  $(obj).addClass('item-left')	
				if ( $(obj).hasClass('item-right') ){
					$(obj).removeClass('item-right')
				}			  
		}
	});
}
 





$(document).ready(function(){
	// Create a div for each event
	for (e in timeline.events){
		$('#timeline-container').append("<div id='timeline-item-"+ e +"' class='timeline-item large-6 columns'>"+ e + "</div>");
	};


	
	for (e in timeline.events){
		$($('.timeline-item')[e]).html(
		"<div class='timeline-content' id='event-"+ timeline.events[e].order +"'>" +
		"<h4 class='timeline-header'>"+ timeline.events[e].desc +"</h4>"+
		"<div class='timeline-left'>" + getImageUrl( timeline.events[e] ) +"</div>"+
		"<div class='timeline-right'>"+ 
					getWitnesses( timeline.events[e] )
		+ "</div>" +
		"</div>"
		);
	}

   	$('#timeline-item-0').after("<div class='timeline-item fake' style='height:1px;'> </div>")
	
    $($('.timeline-item')[0]).before(
	'<div class="timeline_container">'+
		'<div class="timeline">'+
			'<div class="plus"></div>'+
		'</div>' +
	'</div>'
	);
	
	
	window.setTimeout(masonryLayout, 1000);

});

function masonryLayout(){
	$('#timeline-container').masonry({itemSelector : '.timeline-item',transitionDuration: 0});
	
	AssignMargins();
	
	$('#timeline-container').masonry({itemSelector : '.timeline-item',transitionDuration: 0});
	
	AssignMargins();
	
	Arrow_Points()
	$('.fake').remove();
	var fakeHash = 	window.location.hash;
	window.location.hash = ''
	window.location.hash = fakeHash;
};
